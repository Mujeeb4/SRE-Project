{{template "base/head" .}}
<div class="page-content repository packages">
	{{template "repo/header" .}}
	<div class="ui container">
		{{template "base/alert" .}}
		<div class="ui stackable grid">
			<div class="fourteen wide column">
				<form class="ui form ignore-dirty">
					<div class="ui fluid action input">
						<input type="hidden" name="package_type" value="{{.PackageType}}">
						<input name="q" value="{{.Query}}" placeholder="{{.i18n.Tr "explore.search"}}..." autofocus>
						<button class="ui blue button">{{.i18n.Tr "explore.search"}}</button>
					</div>
				</form>
			</div>
			<div class="two wide column right">
				<div class="ui secondary filter stackable menu">
					<div class="ui dropdown type jump item">
						<span class="text">
							{{.i18n.Tr "repo.packages.filter.package_type"}}
							{{svg "octicon-triangle-down" 14 "dropdown icon"}}
						</span>
						<div class="menu">
							<a class="{{if eq .PackageType "all"}}active{{end}} item" href="{{$.Link}}?q={{$.Query}}&package_type=all">{{.i18n.Tr "repo.packages.filter.package_type.all"}}</a>
							<a class="{{if eq .PackageType "generic"}}active{{end}} item" href="{{$.Link}}?q={{$.Query}}&package_type=generic">Generic</a>
							<a class="{{if eq .PackageType "nuget"}}active{{end}} item" href="{{$.Link}}?q={{$.Query}}&package_type=nuget">NuGet</a>
							<a class="{{if eq .PackageType "npm"}}active{{end}} item" href="{{$.Link}}?q={{$.Query}}&package_type=npm">npm</a>
							<a class="{{if eq .PackageType "maven"}}active{{end}} item" href="{{$.Link}}?q={{$.Query}}&package_type=maven">Maven</a>
							<a class="{{if eq .PackageType "pypi"}}active{{end}} item" href="{{$.Link}}?q={{$.Query}}&package_type=pypi">PyPI</a>
							<a class="{{if eq .PackageType "rubygems"}}active{{end}} item" href="{{$.Link}}?q={{$.Query}}&package_type=rubygems">RubyGems</a>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="issue list">
			{{range .Packages}}
				<li class="item df py-3">
					<div class="issue-item-main f1 fc df">
						<div class="issue-item-top-row">
							<a class="title" href="{{$.RepoLink}}/packages/{{.ID}}">{{.Name}}</a>
							{{.Version}}
							<span class="ui label">{{.Type.String}}</span>
						</div>
						<div class="desc issue-item-bottom-row df ac fw my-1">
							{{ $timeStr := TimeSinceUnix .CreatedUnix $.Lang }}
							{{$.i18n.Tr "repo.packages.published_by" $timeStr .Creator.HomeLink (.Creator.GetDisplayName | Escape) | Safe}}
						</div>
					</div>
				</li>
			{{end}}
			{{template "base/paginate" .}}
		</div>
	</div>
</div>
{{template "base/footer" .}}
