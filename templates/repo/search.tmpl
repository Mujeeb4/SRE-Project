{{template "base/head" .}}
<div role="main" aria-label="{{.Title}}" class="page-content repository file list">
	{{template "repo/header" .}}
	<div class="ui container">
		<div class="ui repo-search">
			<form class="ui form ignore-dirty" hx-get="{{.Link}}" hx-push-url="true" hx-target="#search-content" hx-swap="innerHTML">
				<div class="ui fluid action input">
					<input name="q" value="{{.Keyword}}"{{if .CodeIndexerUnavailable}} disabled{{end}} placeholder="{{ctx.Locale.Tr "repo.search.search_repo"}}">
					<div class="ui dropdown selection {{if .CodeIndexerUnavailable}} disabled{{end}}" data-tooltip-content="{{ctx.Locale.Tr "repo.search.type.tooltip"}}">
						<input name="t" type="hidden"{{if .CodeIndexerUnavailable}} disabled{{end}} value="{{.queryType}}">{{svg "octicon-triangle-down" 14 "dropdown icon"}}
						<div class="text">{{ctx.Locale.Tr (printf "repo.search.%s" (or .queryType "fuzzy"))}}</div>
						<div class="menu">
							<div class="item" data-value="" data-tooltip-content="{{ctx.Locale.Tr "repo.search.fuzzy.tooltip"}}">{{ctx.Locale.Tr "repo.search.fuzzy"}}</div>
							<div class="item" data-value="match" data-tooltip-content="{{ctx.Locale.Tr "repo.search.match.tooltip"}}">{{ctx.Locale.Tr "repo.search.match"}}</div>
						</div>
					</div>
					<button class="ui icon button"{{if .CodeIndexerUnavailable}} disabled{{end}} type="submit">{{svg "octicon-search" 16}}</button>
				</div>
			</form>
		</div>
		<div class="divider"></div>
		<div id="search-content">
			{{if .CodeIndexerUnavailable}}
				<div class="ui error message">
					<p>{{ctx.Locale.Tr "repo.search.code_search_unavailable"}}</p>
				</div>
			{{else}}
				{{template "repo/search_result" .}}
			{{end}}
		</div>
	</div>
</div>
{{template "base/footer" .}}
