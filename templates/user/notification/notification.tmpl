{{template "base/head" .}}

<div class="user notification">
	<div class="ui container">
		<h1 class="ui dividing header">{{.i18n.Tr "notification.notifications"}}</h1>

		<div class="ui top attached tabular menu">
			{{ $notificationUnreadCount := call .NotificationUnreadCount}}
			<a href="{{AppSubUrl}}/notifications?q=unread" class="{{if eq .Status 1}}active{{end}} item">
				{{.i18n.Tr "notification.unread"}}
				<div class="ui label {{if not $notificationUnreadCount}}hide{{end}} notification_count">{{$notificationUnreadCount}}</div>
			</a>
			<a href="{{AppSubUrl}}/notifications?q=read" class="{{if eq .Status 2}}active{{end}} item">
				{{.i18n.Tr "notification.read"}}
			</a>
			{{if and (eq .Status 1)}}
				<form action="{{AppSubUrl}}/notifications/purge" method="POST" style="margin-left: auto;">
					{{$.CsrfTokenHtml}}
					<div class="{{if not $notificationUnreadCount}}hide{{end}} notification_dependent">
						<button class="ui mini button primary" title='{{$.i18n.Tr "notification.mark_all_as_read"}}'>
							{{svg "octicon-checklist" 16}}
						</button>
					</div>
				</form>
			{{end}}
		</div>
		{{template "user/notification/notification_div" .}}
		{{template "base/paginate" .}}
	</div>
</div>

{{template "base/footer" .}}
