root: true
reportUnusedDisableDirectives: true

ignorePatterns:
  - /web_src/js/vendor

parserOptions:
  sourceType: module
  ecmaVersion: 2020

plugins:
  - eslint-plugin-unicorn
  - eslint-plugin-import
  - eslint-plugin-sonarjs

env:
  browser: true
  es6: true
  jquery: true
  node: true

globals:
  __webpack_public_path__: true
  CodeMirror: false
  Dropzone: false
  SimpleMDE: false
  u2fApi: false
  Tribute: false

overrides:
  - files: ["web_src/**/*.worker.js", "web_src/js/serviceworker.js"]
    env:
      worker: true

rules:
  accessor-pairs: [2]
  array-bracket-spacing: [2, never]
  arrow-parens: [2, always]
  arrow-spacing: [2, {before: true, after: true}]
  block-scoped-var: [2]
  brace-style: [2, 1tbs, {allowSingleLine: true}]
  comma-dangle: [2, only-multiline]
  comma-spacing: [2, {before: false, after: true}]
  comma-style: [2, last]
  computed-property-spacing: [2, never]
  constructor-super: [2]
  default-case-last: [2]
  dot-location: [2, property]
  eol-last: [2]
  eqeqeq: [2]
  for-direction: [2]
  func-call-spacing: [2, never]
  func-name-matching: [2]
  getter-return: [2]
  grouped-accessor-pairs: [2]
  import/export: [2]
  import/extensions: [2, always, {ignorePackages: true}]
  import/first: [2]
  import/named: [2]
  import/no-extraneous-dependencies: [2]
  import/no-mutable-exports: [2]
  import/no-named-as-default: [2]
  import/no-self-import: [2]
  import/no-unresolved: [2, {commonjs: true}]
  import/no-useless-path-segments: [2, {commonjs: true}]
  import/no-webpack-loader-syntax: [2]
  indent: [2, 2, {ignoreComments: true, SwitchCase: 1}]
  key-spacing: [2]
  keyword-spacing: [2]
  linebreak-style: [2, unix]
  multiline-comment-style: [2, separate-lines]
  new-parens: [2]
  no-array-constructor: [2]
  no-async-promise-executor: [2]
  no-caller: [2]
  no-case-declarations: [2]
  no-class-assign: [2]
  no-compare-neg-zero: [2]
  no-cond-assign: [2, except-parens]
  no-console: [1, {allow: [info, warn, error]}]
  no-const-assign: [2]
  no-constructor-return: [2]
  no-debugger: [1]
  no-delete-var: [2]
  no-dupe-args: [2]
  no-dupe-class-members: [2]
  no-dupe-else-if: [2]
  no-dupe-keys: [2]
  no-duplicate-case: [2]
  no-duplicate-imports: [2]
  no-empty-character-class: [2]
  no-empty-pattern: [2]
  no-empty: [2, {allowEmptyCatch: true}]
  no-eq-null: [2]
  no-eval: [2]
  no-ex-assign: [2]
  no-extend-native: [2]
  no-extra-bind: [2]
  no-extra-boolean-cast: [2]
  no-extra-semi: [2]
  no-fallthrough: [2]
  no-func-assign: [2]
  no-global-assign: [2]
  no-implied-eval: [2]
  no-import-assign: [2]
  no-inner-declarations: [2]
  no-invalid-regexp: [2]
  no-irregular-whitespace: [2]
  no-iterator: [2]
  no-label-var: [2]
  no-labels: [2]
  no-lone-blocks: [2]
  no-loss-of-precision: [2]
  no-misleading-character-class: [2]
  no-mixed-spaces-and-tabs: [2]
  no-multi-spaces: [2, {ignoreEOLComments: true, exceptions: {Property: true, VariableDeclarator: true}}]
  no-multi-str: [2]
  no-new-func: [2]
  no-new-object: [2]
  no-new-symbol: [2]
  no-new-wrappers: [2]
  no-obj-calls: [2]
  no-octal-escape: [2]
  no-octal: [2]
  no-proto: [2]
  no-prototype-builtins: [2]
  no-redeclare: [2]
  no-regex-spaces: [2]
  no-restricted-syntax: [2, WithStatement, ForInStatement, LabeledStatement]
  no-script-url: [2]
  no-self-assign: [2, {props: true}]
  no-self-compare: [2]
  no-sequences: [2]
  no-setter-return: [2]
  no-shadow-restricted-names: [2]
  no-sparse-arrays: [2]
  no-tabs: [2]
  no-template-curly-in-string: [2]
  no-this-before-super: [2]
  no-throw-literal: [2]
  no-trailing-spaces: [2]
  no-undef-init: [2]
  no-undef: [2, {typeof: true}]
  no-unexpected-multiline: [2]
  no-unmodified-loop-condition: [2]
  no-unreachable: [2]
  no-unsafe-finally: [2]
  no-unsafe-negation: [2]
  no-unused-expressions: [2]
  no-unused-labels: [2]
  no-unused-vars: [2, {args: all, argsIgnorePattern: ^_, varsIgnorePattern: ^_, caughtErrorsIgnorePattern: ^_, ignoreRestSiblings: false}]
  no-use-before-define: [2, nofunc]
  no-useless-call: [2]
  no-useless-catch: [2]
  no-useless-computed-key: [2]
  no-useless-concat: [2]
  no-useless-constructor: [2]
  no-useless-escape: [2]
  no-useless-rename: [2]
  no-var: [2]
  no-void: [2]
  no-whitespace-before-property: [2]
  no-with: [2]
  nonblock-statement-body-position: [2]
  object-curly-spacing: [2, never]
  object-shorthand: [2, always]
  operator-assignment: [2, always]
  operator-linebreak: [2, after]
  padded-blocks: [2, never]
  prefer-arrow-callback: [2, {allowNamedFunctions: true, allowUnboundThis: true}]
  prefer-const: [2, {destructuring: all}]
  prefer-exponentiation-operator: [2]
  prefer-numeric-literals: [2]
  prefer-promise-reject-errors: [2, {allowEmptyReject: false}]
  prefer-regex-literals: [2]
  prefer-rest-params: [2]
  prefer-spread: [2]
  prefer-template: [2]
  quotes: [2, single, {avoidEscape: true, allowTemplateLiterals: true}]
  radix: [2, as-needed]
  require-yield: [2]
  rest-spread-spacing: [2, never]
  semi-spacing: [2, {before: false, after: true}]
  semi-style: [2, last]
  semi: [2, always, {omitLastInOneLineBlock: true}]
  sonarjs/no-all-duplicated-branches: [2]
  sonarjs/no-collection-size-mischeck: [2]
  sonarjs/no-element-overwrite: [2]
  sonarjs/no-identical-conditions: [2]
  sonarjs/no-inverted-boolean-check: [2]
  sonarjs/no-one-iteration-loop: [2]
  sonarjs/no-redundant-boolean: [2]
  sonarjs/no-same-line-conditional: [2]
  sonarjs/no-unused-collection: [2]
  sonarjs/no-use-of-empty-return-value: [2]
  sonarjs/prefer-object-literal: [2]
  sonarjs/prefer-while: [2]
  space-before-blocks: [2, always]
  space-in-parens: [2, never]
  space-infix-ops: [2]
  space-unary-ops: [2]
  spaced-comment: [2, always]
  switch-colon-spacing: [2]
  symbol-description: [2]
  template-curly-spacing: [2, never]
  template-tag-spacing: [2, never]
  unicode-bom: [2, never]
  unicorn/consistent-function-scoping: [2]
  unicorn/new-for-builtins: [2]
  unicorn/no-reduce: [2]
  unicorn/no-unused-properties: [2]
  unicorn/no-zero-fractions: [2]
  unicorn/prefer-add-event-listener: [2]
  unicorn/prefer-dataset: [2]
  unicorn/prefer-event-key: [2]
  unicorn/prefer-includes: [2]
  unicorn/prefer-negative-index: [2]
  unicorn/prefer-optional-catch-binding: [2]
  unicorn/prefer-starts-ends-with: [2]
  unicorn/prefer-text-content: [2]
  unicorn/prefer-trim-start-end: [2]
  unicorn/throw-new-error: [2]
  use-isnan: [2]
  valid-typeof: [2, {requireStringLiterals: true}]
  wrap-iife: [2, inside]
  yield-star-spacing: [2, after]
  yoda: [2, never]
